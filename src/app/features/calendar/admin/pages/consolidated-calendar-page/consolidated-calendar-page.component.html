<div class="consolidated-calendar-page">
  @if (isLoading) {
  <div class="loading-state">
    <app-spinner></app-spinner>
    <p>Cargando calendario...</p>
  </div>
  } @else if (error) {
  <div class="error-state">
    <app-error-text [message]="error"></app-error-text>
  </div>
  } @else {
  <app-calendar-view [viewMode]="viewMode" [currentDate]="currentDate" [events]="calendarEvents" [dayStates]="dayStates"
    [dayRanges]="dayRanges" [showNewAppointmentButton]="true" [showStats]="true" [showLegend]="true"
    (viewModeChange)="onViewModeChange($event)" (dateChange)="onDateChange($event)" (dayClick)="onDayClick($event)"
    (eventClick)="onEventClick($event)" (slotClick)="onSlotClick($event)" (newAppointmentClick)="onNewAppointment()">
  </app-calendar-view>
  }

  <!-- Modal de detalle del dÃ­a -->
  <app-day-detail-modal [isOpen]="isModalOpen" [dayData]="selectedDayData" (close)="onModalClose()">
  </app-day-detail-modal>
</div>