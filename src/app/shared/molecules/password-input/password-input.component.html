<div class="password-input-group">
  @if (label) {
    <app-label
      [for]="inputId"
      [required]="required"
      [icon]="labelIcon">
      {{ label }}
    </app-label>
  }
  <div class="password-input-wrapper">
    <app-input
      [type]="inputType"
      [id]="inputId"
      [name]="name || ''"
      [placeholder]="placeholder"
      [required]="required"
      [hasError]="hasError"
      [maxLength]="maxLength"
      [autocomplete]="autocomplete"
      [disabled]="disabled"
      [ariaDescribedBy]="errorMessage ? errorId : undefined"
      [ngModel]="value"
      (ngModelChange)="onInput($event)"
      (blur)="onBlur()"
      class="password-input-field">
    </app-input>
    <button
      type="button"
      class="password-toggle"
      [disabled]="disabled"
      [attr.aria-label]="showPassword ? 'Ocultar contraseña' : 'Mostrar contraseña'"
      (click)="togglePassword()">
      @if (showPassword) {
        <i class="fas fa-eye" aria-hidden="true"></i>
      } @else {
        <i class="fas fa-eye-slash" aria-hidden="true"></i>
      }
    </button>
  </div>
  @if (errorMessage) {
    <app-error-text
      [id]="errorId"
      [message]="errorMessage">
    </app-error-text>
  }
</div>

